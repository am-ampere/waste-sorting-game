<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏Å‡∏π‡πâ(KU)‡πÇ‡∏•‡∏Å</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@500;600;700&display=swap" rel="stylesheet">
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    :root {
      --primary-green: #067957;
      --accent-green: #53b73b;
      --error-red: #b52424;
      --bg-light: #ebf7ef;
    }
    body { margin: 0; font-family: 'Prompt', sans-serif; background-color: var(--bg-light); color: var(--primary-green); }
    .container { min-height: 100vh; display: flex; flex-direction: column; align-items: center; text-align: center; padding: 40px 20px; box-sizing: border-box; position: relative; }
    .hidden { display: none !important; }
    
    /* Loading */
    #loading-page { justify-content: center; }
    .loader { border: 8px solid #f3f3f3; border-top: 8px solid var(--primary-green); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin-bottom: 20px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* UI */
    .main-logo { width: 180px; margin-bottom: 30px; }
    h1 { font-weight: 600; font-size: 2.2rem; margin: 10px 0; line-height: 1.2; }
    .btn-start { background: #fff; color: var(--primary-green); border: none; padding: 15px 60px; border-radius: 50px; font-size: 1.4rem; font-weight: 600; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; margin: 20px 0; }
    .choice-btn { width: 100%; max-width: 340px; background: #fff; border: none; padding: 14px; margin: 8px 0; border-radius: 50px; font-size: 1.1rem; font-weight: 500; color: var(--primary-green); box-shadow: 0 2px 10px rgba(0,0,0,0.05); cursor: pointer; }
    .feedback-box { margin-top: 25px; min-height: 100px; }
    .text-red { color: var(--error-red); }
    .text-green { color: var(--accent-green); }
    .footer { position: absolute; bottom: 20px; display: flex; flex-direction: column; align-items: center; width: 100%; }
    .partner-logos { width: 160px; }
  </style>
</head>
<body>

<div id="loading-page" class="container">
  <div class="loader"></div>
  <p style="font-size: 1.3rem; font-weight: 600;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß...</p>
</div>

<div id="start-page" class="container hidden">
  <img src="https://drive.google.com/uc?export=view&id=1Mv186rRkteA4PzRmgBD3QBkuw5EMeIZe" class="main-logo">
  <h1>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ<br><span id="user-name">...</span></h1>
  <p style="font-size: 1.1rem; font-weight: 500;">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô ‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏±‡∏ô!</p>
  <button class="btn-start" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°</button>
  <img src="https://drive.google.com/uc?export=view&id=1uT8Zui8M6NO8XClShLdGjinFVgo3Se8o" style="width:130px; margin-top:20px;">
  <div class="footer">
    <p style="font-size: 0.75rem;">‡∏ó‡∏¥‡πâ‡∏á‡∏ñ‡∏π‡∏Å‡∏ó‡∏µ‡πà ‡∏•‡∏î‡∏ñ‡∏∏‡∏á‡∏Ç‡∏¢‡∏∞‡∏¢‡πà‡∏≠‡∏¢‡∏™‡∏•‡∏≤‡∏¢‡πÑ‡∏î‡πâ</p>
    <img src="https://drive.google.com/uc?export=view&id=1CIm7fSpDROgMSdUHqhOgEq-8yof43FTs" class="partner-logos">
  </div>
</div>

<div id="game-page" class="container hidden">
  <img src="https://drive.google.com/uc?export=view&id=1Mv186rRkteA4PzRmgBD3QBkuw5EMeIZe" class="main-logo">
  <h1 id="question-text"></h1>
  <div id="choices-container" style="width: 100%;"></div>
  <div id="feedback" class="feedback-box hidden">
    <div id="feedback-msg" style="font-size: 1.4rem; font-weight: 600;"></div>
    <div id="feedback-emoji" style="font-size: 2.5rem;"></div>
  </div>
  <div class="footer">
    <img src="https://drive.google.com/uc?export=view&id=1CIm7fSpDROgMSdUHqhOgEq-8yof43FTs" class="partner-logos">
  </div>
</div>

<div id="result-page" class="container hidden">
  <img src="https://drive.google.com/uc?export=view&id=1Mv186rRkteA4PzRmgBD3QBkuw5EMeIZe" class="main-logo">
  <div id="final-score" style="font-size: 5rem; font-weight: 700;">0/4</div>
  <p id="result-user-name" style="font-size: 1.2rem; font-weight: 600;"></p>
  <h1 id="result-title"></h1>
  <p id="result-desc" style="font-size: 1.3rem; font-weight: 600;"></p>
  <div id="result-emoji" style="font-size: 3.5rem; margin-top: 10px;"></div>
  
  <div style="margin-top: 30px; font-weight: 600;">
    <p class="text-green" style="margin-bottom: 0;">üçÉ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô üåç</p>
    <p style="font-size: 0.9rem; margin-top: 5px;">‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∏‡∏ì‡∏û‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÇ‡∏•‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏•‡∏¢‡∏•‡πà‡∏∞!</p>
  </div>
  <div class="footer">
    <img src="https://drive.google.com/uc?export=view&id=1CIm7fSpDROgMSdUHqhOgEq-8yof43FTs" class="partner-logos">
  </div>
</div>

<script>
  const MY_LIFF_ID = "2008938028-gCqozVV5";
  const questions = [
    {
      q: "‡∏Ç‡∏ß‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å<br>‡∏Ñ‡∏ß‡∏£‡∏ó‡∏¥‡πâ‡∏á‡∏ñ‡∏±‡∏á‡πÑ‡∏´‡∏ô?",
      options: ["‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•", "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "‡∏ñ‡∏±‡∏á‡∏ã‡∏±‡∏°‡∏à‡∏±‡πã‡∏á"],
      answer: 0,
      correctMsg: "‡∏≠‡∏∑‡∏≠‡∏´‡∏∑‡∏≠ ‡∏ô‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏°‡∏∑‡∏≠‡∏õ‡∏£‡∏≤‡∏ö‡∏Ç‡∏¢‡∏∞!",
      wrongMsgs: ["‡∏ú‡∏¥‡∏î! ‡πÅ‡∏¢‡∏Å‡∏ú‡∏¥‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô", "‡∏ú‡∏¥‡∏î! ‡πÑ‡∏õ‡∏ä‡∏°‡∏û‡∏π‡∏ó‡∏ß‡∏µ‡∏õ‡πÄ‡∏•‡∏¢‡πÑ‡∏õ‡πä"],
      emojis: ["üå±", "üòà", "üòà"]
    },
    {
      q: "‡∏ô‡πâ‡∏≥‡∏´‡∏°‡∏î ‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠<br>‡∏ó‡∏¥‡πâ‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ?",
      options: ["‡∏ó‡∏¥‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡πÄ‡∏•‡∏¢", "‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥/‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á ‡∏ó‡∏¥‡πâ‡∏á‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ñ‡∏±‡∏á", "‡∏Å‡∏¥‡∏ô‡πÅ‡∏Å‡πâ‡∏ß‡∏•‡∏á‡πÑ‡∏õ"],
      answer: 1,
      correctMsg: "‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞‡πÇ‡∏´‡∏î ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÇ‡∏Å‡∏£‡∏ò‡πÇ‡∏•‡∏Å‡∏£‡πâ‡∏≠‡∏ô",
      wrongMsgs: ["‡∏ú‡∏¥‡∏î! ‡πÄ‡∏ó‡∏ô‡πâ‡∏≥/‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢ ‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å‡∏ß‡∏∏‡πâ‡∏¢", "‡∏ú‡∏¥‡∏î! ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÅ‡∏Å‡πâ‡∏ß‡∏ï‡∏¥‡∏î‡∏Ñ‡∏≠"],
      emojis: ["üëç", "üòà", "üòà"]
    },
    {
      q: "‡πÑ‡∏°‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô<br>‡∏ó‡∏¥‡πâ‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ?",
      options: ["‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÜ", "‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á ‡∏ó‡∏∞‡∏•‡∏∏‡∏ñ‡∏∂‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à", "‡∏ó‡∏¥‡πâ‡∏á‡∏•‡∏á‡∏ñ‡∏±‡∏á‡πÑ‡∏°‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö"],
      answer: 2,
      correctMsg: "‡πÅ‡∏¢‡∏Å‡πÄ‡∏Å‡πà‡∏á‡∏à‡∏ô ‡∏Ç‡∏¢‡∏∞‡∏Ç‡∏ô‡∏•‡∏∏‡∏Å!",
      wrongMsgs: ["‡∏ú‡∏¥‡∏î! ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÇ‡∏ô‡πä‡∏∞", "‡∏ú‡∏¥‡∏î! ‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏ä‡πâ‡∏≤‡∏ô‡∏ô‡∏ô ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏¢‡∏±‡∏ö"],
      emojis: ["ü§©", "üòà", "üòà"]
    },
    {
      q: "‡∏Ç‡∏¢‡∏∞‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£<br>‡∏ó‡∏¥‡πâ‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ?",
      options: ["‡πÄ‡∏ó‡πÉ‡∏™‡πà‡∏ñ‡πâ‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", "‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏î‡∏π‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤", "‡∏ó‡∏¥‡πâ‡∏á‡∏•‡∏á‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£"],
      answer: 2,
      correctMsg: "‡∏™‡∏Å‡∏¥‡∏•‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞ ‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏Æ‡πà‡∏á!",
      wrongMsgs: ["‡πÄ‡∏≠‡πâ‡∏≤! ‡∏ó‡∏≥‡πÑ‡∏°‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô", "‡∏ú‡∏¥‡∏î! ‡∏î‡∏π‡∏Ç‡∏≠‡∏á‡πÅ‡∏ü‡∏ô‡πÄ‡∏Å‡πà‡∏≤ ‡∏¢‡∏±‡∏á‡πÄ‡∏®‡∏£‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏´‡∏£‡∏≠"],
      emojis: ["üôå", "üòî", "ü§î"]
    }
  ];

  const results = {
    0: { title: "‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠!", desc: "‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ô‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡πà‡∏≠‡∏°‡πÅ‡∏ó‡∏ô", emoji: "üòî" },
    1: { title: "‡∏Ñ‡∏∏‡∏ì‡∏û‡∏µ‡πà‡∏ó‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∏‡∏î!", desc: "‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏•‡∏∞ ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏´‡∏°‡∏î‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏•‡∏∞", emoji: "üôã‚Äç‚ôÄÔ∏è" },
    2: { title: "‡∏à‡∏∞‡∏•‡∏≥‡πÅ‡∏ö‡πâ!", desc: "‡∏ú‡∏¥‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ ‡∏û‡∏µ‡πà‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏£‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß", emoji: "üò¢" },
    3: { title: "‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á!", desc: "‡πÅ‡∏¢‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô ‡πÑ‡∏õ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà", emoji: "üòò" },
    4: { title: "‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!", desc: "‡πÄ‡∏Å‡πà‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏µ‡πâ ‡∏û‡∏µ‡πà‡∏ã‡∏≤‡πÄ‡∏•‡πâ‡∏á‡∏°‡∏µ‡∏´‡∏ô‡∏≤‡∏ß", emoji: "üòç" }
  };

  let currentStep = 0, score = 0, playerName = "";

  async function initLIFF() {
    try {
      await liff.init({ liffId: MY_LIFF_ID });
      if (!liff.isLoggedIn()) {
        liff.login();
      } else {
        const profile = await liff.getProfile();
        playerName = profile.displayName;
        document.getElementById('user-name').innerText = playerName;
        document.getElementById('result-user-name').innerText = `‡∏Ñ‡∏∏‡∏ì ${playerName}`;
        document.getElementById('loading-page').classList.add('hidden');
        document.getElementById('start-page').classList.remove('hidden');
      }
    } catch (err) { console.error(err); }
  }
  window.onload = initLIFF;

  function startGame() {
    document.getElementById('start-page').classList.add('hidden');
    document.getElementById('game-page').classList.remove('hidden');
    showQuestion();
  }

  function showQuestion() {
    const data = questions[currentStep];
    document.getElementById('question-text').innerHTML = data.q;
    const container = document.getElementById('choices-container');
    container.innerHTML = '';
    document.getElementById('feedback').classList.add('hidden');
    data.options.forEach((opt, i) => {
      const btn = document.createElement('button');
      btn.className = 'choice-btn';
      btn.innerText = opt;
      btn.onclick = () => checkAnswer(i);
      container.appendChild(btn);
    });
  }

  function checkAnswer(idx) {
    const data = questions[currentStep];
    const isCorrect = idx === data.answer;
    const feedback = document.getElementById('feedback');
    const msg = document.getElementById('feedback-msg');
    const emoji = document.getElementById('feedback-emoji');

    if(isCorrect) {
      score++;
      msg.innerText = data.correctMsg;
      msg.className = "text-green";
    } else {
      msg.innerText = (idx > data.answer) ? data.wrongMsgs[idx-1] : data.wrongMsgs[idx];
      msg.className = "text-red";
    }
    emoji.innerText = data.emojis[idx === data.answer ? 0 : 1];
    feedback.classList.remove('hidden');
    document.querySelectorAll('.choice-btn').forEach(b => b.disabled = true);
    
    setTimeout(() => {
      currentStep++;
      if(currentStep < questions.length) showQuestion();
      else showResult();
    }, 2500);
  }

  function showResult() {
    document.getElementById('game-page').classList.add('hidden');
    document.getElementById('result-page').classList.remove('hidden');
    const res = results[score];
    document.getElementById('final-score').innerText = `${score}/4`;
    document.getElementById('result-title').innerText = res.title;
    document.getElementById('result-desc').innerText = res.desc;
    document.getElementById('result-desc').className = (score === 4) ? "text-green" : "text-red";
    document.getElementById('result-emoji').innerText = res.emoji;
  }
</script>
</body>
</html>


